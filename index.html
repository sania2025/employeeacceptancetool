<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Employee Digital Acceptance Tool</title>

  <style>
    :root{
      --bg: #f7f7fb;         
      --card: #ffffff;        
      --text: #0f0f14;      
      --muted: #6b7280;      
      --border: #ececf2;      

      --accent-50:  #f5f3ff;
      --accent-100: #ede9fe;
      --accent-300: #c4b5fd;
      --accent-500: #8b5cf6;
      --accent-600: #7c3aed;


      --ok:#2e7d32;        
      --warn:#ef6c00;    
      --bad:#c62828;     
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      background: radial-gradient(1200px 600px at 70% -10%, var(--accent-50), transparent 50%) var(--bg);
    }

    body {
      font-family: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      margin: 0;
    }

    .app{
      max-width: 980px;
      margin: 56px auto 72px;
      padding: 0 24px;
    }

    h1 {
      text-align: center;
      font-size: clamp(28px, 4vw, 40px);
      line-height: 1.1;
      margin: 0 0 24px;
      letter-spacing: -0.01em;
    }

    .section {
      background-color: var(--card);
      padding: 22px;
      margin-bottom: 20px;
      border-radius: 14px;
      border: 1px solid var(--border);
      box-shadow: 0 10px 24px rgba(17, 12, 46, 0.06);
    }

    .section > h2{
      margin: 0 0 12px;
      font-size: 18px;
      font-weight: 700;
      color: #111;
    }

    .question { margin-bottom: 18px; }

    .question legend {
      margin: 0 0 10px;
      font-weight: 600;
      color: #1f2937;
      font-size: 15px;
    }

    /*Likert*/
    .likert {
      display: grid;
      grid-template-columns: repeat(5, minmax(130px, 1fr));
      gap: 10px;
      align-items: stretch;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--accent-50);
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--accent-100);
      transition: background .15s ease, border-color .15s ease, box-shadow .15s ease, transform .05s ease;
      cursor: pointer;
    }
    .option:hover{
      background: #fff;
      border-color: var(--accent-300);
    }
    .likert input[type="radio"] {
      width: 18px;
      height: 18px;
      accent-color: var(--accent-500);
      cursor: pointer;
      flex: 0 0 auto;
    }
    .option span{ font-size: 14px; }
    .option:has(input:checked){
      background: #fff;
      border-color: var(--accent-500);
      box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-500) 18%, transparent);
    }
    .option input:checked ~ span { font-weight: 600; }

    .form-actions{ text-align: center; }

    button {
      appearance: none;
      padding: 12px 22px;
      font-size: 16px;
      font-weight: 600;
      background: var(--accent-500);
      color: white;
      border: 1px solid color-mix(in srgb, var(--accent-600) 30%, transparent);
      border-radius: 999px;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(139, 92, 246, 0.25);
      transition: transform .05s ease, box-shadow .15s ease, background .15s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    button:hover {
      background: var(--accent-600);
      box-shadow: 0 8px 22px rgba(124, 58, 237, 0.30);
    }
    button:active { transform: translateY(1px); }
    button:focus-visible {
      outline: 3px solid color-mix(in srgb, var(--accent-600) 45%, transparent);
      outline-offset: 3px;
    }

    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(9, 10, 15, 0.55);
      display: flex;
      justify-content: center;
      align-items: center;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.25s ease, visibility 0.25s ease;
      padding: 24px;
      z-index: 50;
    }
    .modal-overlay.show { visibility: visible; opacity: 1; }

    .modal {
      background: var(--card);
      padding: 28px 24px;
      border-radius: 16px;
      width: min(720px, 100%);
      text-align: left;
      box-shadow: 0 30px 60px rgba(16, 13, 36, 0.25);
      border: 1px solid var(--border);
      max-height: 90vh;
      overflow: auto;
    }

    .modal h2 {
      margin: 0 0 6px;
      font-size: 26px;
      color: #0f0f14;
      text-align: center;
      letter-spacing: -0.01em;
    }

    .modal .sub {
      margin: 0 0 20px;
      text-align: center;
      color: var(--muted);
      font-size: 14px;
    }

    .score-row{
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px 16px;
      margin: 12px 0;
    }

    .score-top{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .score-title{ font-weight: 700; font-size: 15px; }

    .badge{
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      color:#fff;
      white-space: nowrap;
    }
    .badge.ready{ background: var(--ok); }
    .badge.support{ background: var(--warn); }
    .badge.resist{ background: var(--bad); }

    .bar{
      position: relative;
      height: 12px;
      background: var(--accent-50);
      border: 1px solid var(--accent-100);
      border-radius: 999px;
      overflow: hidden;
      margin-top: 10px;
    }
    .bar > span{
      display:block;
      height:100%;
      width:0%;
      border-radius: inherit;
      transition: width 0.6s ease;
    }
    .bar > span.ready{ background: var(--ok); }
    .bar > span.support{ background: var(--warn); }
    .bar > span.resist{ background: var(--bad); }

    .modal .legend{
      margin-top: 16px;
      font-size: 13px;
      color: var(--muted);
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }
    .legend .key{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .key .dot{
      width:12px; height:12px; border-radius:50%;
      background:#ccc;
      border: 1px solid var(--border);
    }
    .key .dot.ready{ background: var(--ok); }
    .key .dot.support{ background: var(--warn); }
    .key .dot.resist{ background: var(--bad); }

    .modal .actions{
      display:flex;
      justify-content: center;
      margin-top: 22px;
    }
    .modal .actions button{
      background: #111;
      border-color: #111;
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    }

    @media (max-width: 900px){
      .likert{ grid-template-columns: 1fr; }
    }
    @media (max-width: 720px){
      .app { margin: 32px auto 56px; padding: 0 16px; }
      .modal { padding: 22px 18px; }
    }
  </style>
</head>
<body>
  <main class="app">
    <h1 id="formTitle">Employee Digital Acceptance Tool</h1>

    <form id="surveyForm" aria-labelledby="formTitle">
      <div id="formSections"></div>
      <div class="form-actions">
        <button type="submit">Submit Survey</button>
      </div>
    </form>
  </main>

  <div id="scoreModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <h2 id="modalTitle">Technology Acceptance Scores</h2>
      <p class="sub">Scores are displayed across 3 readiness categogies</p>
      <div id="scoreContent" aria-live="polite"></div>

      <div class="legend" aria-hidden="true">
        <div class="key"><span class="dot resist"></span> 0–40: High Resistance</div>
        <div class="key"><span class="dot support"></span> 41–70: Needs Support</div>
        <div class="key"><span class="dot ready"></span> 71–100: Ready Adopter</div>
      </div>

      <div class="actions">
        <button id="closeModal" type="button" aria-label="Close results">Close</button>
      </div>
    </div>
  </div>

  <script>
    const questions = {
      Psychological: [
        "I have a positive outlook on using new technologies in my job?",
        "I believe technology enhances the quality of my work?",
        "I am open to using new technology at work?",
        "I feel confident in my ability to learn how to use new technologies?",
        "I can adapt quickly when new digital tools are introduced in my workplace?",
        "I believe I can keep up with digital changes in the workplace?",
        "I actively seek out opportunities to use new technologies at work?",
        "I suggest digital solutions when I notice workplace challenges?",
        "I try to stay ahead by learning about upcoming technologies relevant to my field?",
        "I can focus on the positives even when changes bring challenges?",
        "I see uncertainty in digital change as a chance to develop new skills?",
        "I can handle conflicting work demands and remain open to change?"
      ],
      Technological: [
        "I believe using technology in my job makes my work easier?",
        "Technology increases the value of the work I produce?",
        "Using technology allows me to perform tasks that would otherwise be difficult?",
        "I expect technology to improve the speed at which I can complete my tasks?",
        "The use of technology will improve my performance and productivity?",
        "I believe using new technology will help me achieve better results?",
        "Learning to use new technologies is easy for me?",
        "It requires minimal effort for me to use technology effectively?",
        "I find most workplace technologies straightforward to operate?",
        "I am comfortable using digital tools relevant to my job?",
        "I possess the necessary digital skills to use workplace technologies successfully?",
        "I have the technology knowledge necessary for my job?"
      ],
      Organisational: [
        "I trust that management introduces technology with employee interest in mind?",
        "Management supports us through digital changes?",
        "I feel management communicates openly about technological change?",
        "Training will be available when new technology is introduced?",
        "I will receive adequate training for new technologies?",
        "The organisation provides resources to help me learn new tools?",
        "My workplace encourages innovation and digital adoption?",
        "There is a shared willingness in my team to adopt new technologies?",
        "The organisation promotes a mindset of continuous digital learning?"
      ]
    };

    const likertLabels = [
      "Strongly Disagree",
      "Disagree",
      "Neutral",
      "Agree",
      "Strongly Agree"
    ];

    const formSections = document.getElementById("formSections");

    Object.entries(questions).forEach(([domain, qs]) => {
      const section = document.createElement("div");
      section.className = "section";

      const header = document.createElement("h2");
      header.textContent = domain + " Domain";
      section.appendChild(header);

      qs.forEach((question, index) => {
        const groupName = `${domain.toLowerCase()}${index + 1}`;

        const qFieldset = document.createElement("fieldset");
        qFieldset.className = "question";

        const legend = document.createElement("legend");
        legend.textContent = question;
        qFieldset.appendChild(legend);

        const likertRow = document.createElement("div");
        likertRow.className = "likert";

        likertLabels.forEach((labelText, i) => {
          const value = i + 1;
          const id = `${groupName}_${value}`;

          const optionWrap = document.createElement("label");
          optionWrap.className = "option";
          optionWrap.setAttribute("for", id);

          const input = document.createElement("input");
          input.type = "radio";
          input.name = groupName;
          input.id = id;
          input.value = value;
          if (i === 0) input.required = true;

          const text = document.createElement("span");
          text.textContent = `${value} - ${labelText}`;

          optionWrap.appendChild(input);
          optionWrap.appendChild(text);
          likertRow.appendChild(optionWrap);
        });

        qFieldset.appendChild(likertRow);
        section.appendChild(qFieldset);
      });

      formSections.appendChild(section);
    });

    function getCategory(score){
      if (score <= 40) return { label: "High Resistance", cls: "resist" };
      if (score <= 70) return { label: "Needs Support", cls: "support" };
      return { label: "Ready Adopter", cls: "ready" };
    }

    document.getElementById("surveyForm").addEventListener("submit", function(event) {
      event.preventDefault();

      const scores = { Psychological: 0, Technological: 0, Organisational: 0 };
      const maxScores = { Psychological: 12 * 5, Technological: 12 * 5, Organisational: 9 * 5 };

      Object.keys(questions).forEach(domain => {
        questions[domain].forEach((_, idx) => {
          const name = `${domain.toLowerCase()}${idx + 1}`;
          const checked = document.querySelector(`input[name="${name}"]:checked`);
          scores[domain] += parseInt(checked.value, 10);
        });
      });

      const parts = Object.keys(scores).map(domain => {
        const pct = Math.round(scores[domain] / maxScores[domain] * 100);
        const { label, cls } = getCategory(pct);

        return `
          <div class="score-row" role="group" aria-label="${domain} score">
            <div class="score-top">
              <div class="score-title">${domain} Score</div>
              <div class="badge ${cls}" aria-label="Category">${label}</div>
            </div>
            <div class="score-val" style="margin-top:8px;"><strong>${pct}/100</strong></div>
            <div class="bar" aria-hidden="true"><span class="${cls}" style="width:${pct}%"></span></div>
          </div>
        `;
      });

      document.getElementById("scoreContent").innerHTML = parts.join("");
      document.getElementById("scoreModal").classList.add("show");

  
      document.getElementById("closeModal").focus();
    });

    document.getElementById("closeModal").addEventListener("click", function() {
      document.getElementById("scoreModal").classList.remove("show");
    });

    document.getElementById("scoreModal").addEventListener("click", (e)=>{
      if(e.target.id === "scoreModal"){
        document.getElementById("scoreModal").classList.remove("show");
      }
    });
    document.addEventListener("keydown", (e)=>{
      if(e.key === "Escape"){
        document.getElementById("scoreModal").classList.remove("show");
      }
    });
  </script>
</body>
</html>
